<div class="container mt-5">
  <form
    [formGroup]="eventForm"
    (ngSubmit)="onSubmit()"
    class="row g-3 p-4 border rounded shadow-lg bg-body text-body"
    novalidate
  >
    <h3 class="display-2 text-center">
      {{ isEdit ? "Modification" : "Création" }} d'un événement
    </h3>
    <div class="col-md-6">
      <label for="title" class="form-label">
        <i class="bi bi-type"></i> Titre
      </label>
      <input
        type="text"
        id="title"
        class="form-control"
        formControlName="title"
        [class.is-invalid]="isInvalid('title')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('title')">
        {{ getError("title") }}
      </div>
    </div>

    <div class="col-md-6">
      <label for="date" class="form-label">
        <i class="bi bi-calendar-event"></i> Date
      </label>
      <input
        type="datetime-local"
        id="date"
        class="form-control"
        formControlName="date"
        [class.is-invalid]="isInvalid('date')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('date')">
        {{ getError("date") }}
      </div>
    </div>

    <div class="col-12">
      <label for="description" class="form-label">
        <i class="bi bi-card-text"></i> Description
      </label>
      <textarea
        id="description"
        class="form-control"
        rows="3"
        formControlName="description"
        [class.is-invalid]="isInvalid('description')"
      ></textarea>
      <div class="invalid-feedback" *ngIf="isInvalid('description')">
        {{ getError("description") }}
      </div>
    </div>

    <div class="col-md-6">
      <label for="location" class="form-label">
        <i class="bi bi-geo-alt"></i> Lieu
      </label>
      <input
        type="text"
        id="location"
        class="form-control"
        formControlName="location"
        [class.is-invalid]="isInvalid('location')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('location')">
        {{ getError("location") }}
      </div>
    </div>

    <div class="col-md-6">
      <label for="sportType" class="form-label">
        <i class="bi bi-dribbble"></i> Type de sport
      </label>
      <select
        id="sportType"
        class="form-select"
        formControlName="sportType"
        [class.is-invalid]="isInvalid('sportType')"
      >
        <option value="">Sélectionner un sport</option>
        <option *ngFor="let sport of sports" [value]="sport">
          {{ sport }}
        </option>
      </select>
      <div class="invalid-feedback" *ngIf="isInvalid('sportType')">
        {{ getError("sportType") }}
      </div>
    </div>

    <div class="col-md-6">
      <label for="maxParticipants" class="form-label">
        <i class="bi bi-people-fill"></i> Participants max
      </label>
      <input
        type="number"
        id="maxParticipants"
        class="form-control"
        formControlName="maxParticipants"
        [class.is-invalid]="isInvalid('maxParticipants')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('maxParticipants')">
        {{ getError("maxParticipants") }}
      </div>
    </div>

    <div class="col-12 d-flex gap-3">
      <button
        type="submit"
        class="btn btn-outline-primary"
        [disabled]="eventForm.invalid"
      >
        <i class="bi bi-check-circle"></i>
        {{ isEdit ? "Modifier" : "Créer" }} l’événement
      </button>
      <button type="reset" class="btn btn-secondary">Reset</button>
    </div>
  </form>
</div>
