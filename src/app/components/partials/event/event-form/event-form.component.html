<div class="container mt-4">
  <form
    [formGroup]="eventForm"
    (ngSubmit)="onSubmit()"
    novalidate
    class="row align-items-start justify-content-center py-4 px-3 needs-validation border rounded shadow-lg m-4 bg-dark bg-gradient text-white"
  >
    <div class="mb-3">
      <label for="title" class="form-label">Titre</label>
      <input
        type="text"
        id="title"
        class="form-control"
        formControlName="title"
        [class.is-invalid]="isInvalid('title')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('title')">
        {{ getError("title") }}
      </div>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea
        id="description"
        class="form-control"
        rows="4"
        formControlName="description"
        [class.is-invalid]="isInvalid('description')"
      ></textarea>
      <div class="invalid-feedback" *ngIf="isInvalid('description')">
        {{ getError("description") }}
      </div>
    </div>

    <div class="mb-3">
      <label for="date" class="form-label">Date</label>
      <input
        type="datetime-local"
        id="date"
        class="form-control"
        formControlName="date"
        [class.is-invalid]="isInvalid('date')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('date')">
        {{ getError("date") }}
      </div>
    </div>

    <div class="mb-3">
      <label for="location" class="form-label">Lieu</label>
      <input
        type="text"
        id="location"
        class="form-control"
        formControlName="location"
        [class.is-invalid]="isInvalid('location')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('location')">
        {{ getError("location") }}
      </div>
    </div>

    <div class="mb-3">
      <label for="sportType" class="form-label">Type de sport</label>
      <select
        class="form-select"
        formControlName="sportType"
        [class.is-invalid]="isInvalid('sportType')"
      >
        <option value="">Sélectionner un sport</option>
        <option *ngFor="let sport of sports" [value]="sport">
          {{ sport }}
        </option>
      </select>
      <div class="invalid-feedback" *ngIf="isInvalid('sportType')">
        {{ getError("sportType") }}
      </div>
    </div>

    <div class="mb-3">
      <label for="maxParticipants" class="form-label"
        >Nombre max de participants</label
      >
      <input
        type="number"
        id="maxParticipants"
        class="form-control"
        formControlName="maxParticipants"
        [class.is-invalid]="isInvalid('maxParticipants')"
      />
      <div class="invalid-feedback" *ngIf="isInvalid('maxParticipants')">
        {{ getError("maxParticipants") }}
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="eventForm.invalid"
    >
      {{ isEdit ? "Modifier" : "Créer" }} l’événement
    </button>
  </form>
</div>
